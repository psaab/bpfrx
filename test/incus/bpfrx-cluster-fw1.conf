chassis {
    cluster {
        cluster-id 1;
        node 1;
        reth-count 2;
        heartbeat-interval 1000;
        heartbeat-threshold 3;
        control-interface hb0;
        peer-address 10.99.0.1;
        fabric-interface fab0;
        fabric-peer-address 10.99.1.1;
        configuration-synchronize;
        redundancy-group 0 {
            node 0 priority 200;
            node 1 priority 100;
            preempt;
            interface-monitor {
                reth0 weight 255;
                reth1 weight 255;
            }
        }
    }
}
interfaces {
    mgmt0 {
        unit 0 {
            family inet {
                dhcp;
            }
        }
    }
    hb0 {
        unit 0 {
            family inet {
                address 10.99.0.2/30;
            }
        }
    }
    fab0 {
        unit 0 {
            family inet {
                address 10.99.1.2/30;
            }
        }
    }
    wan-vf {
        gigether-options {
            redundant-parent reth0;
        }
    }
    lan-vf {
        gigether-options {
            redundant-parent reth1;
        }
    }
    reth0 {
        redundant-ether-options {
            redundancy-group 0;
        }
        unit 0 {
            family inet {
                address 172.16.50.10/24;
            }
        }
    }
    reth1 {
        redundant-ether-options {
            redundancy-group 0;
        }
        unit 0 {
            family inet {
                address 10.0.60.1/24;
            }
        }
    }
}
security {
    zones {
        security-zone mgmt {
            interfaces { mgmt0; }
            host-inbound-traffic {
                system-services { ssh; ping; dhcp; }
            }
        }
        security-zone control {
            interfaces { hb0; fab0; }
            host-inbound-traffic {
                system-services { ping; }
            }
        }
        security-zone wan {
            interfaces { reth0; }
            host-inbound-traffic {
                system-services { ping; }
            }
        }
        security-zone lan {
            interfaces { reth1; }
            host-inbound-traffic {
                system-services { ssh; ping; dhcp; }
            }
        }
    }
    policies {
        default-policy deny-all;
        from-zone lan to-zone wan {
            policy allow-all {
                match {
                    source-address any;
                    destination-address any;
                    application any;
                }
                then { permit; }
            }
        }
        from-zone wan to-zone lan {
            policy allow-all {
                match {
                    source-address any;
                    destination-address any;
                    application any;
                }
                then { permit; }
            }
        }
    }
    nat {
        source {
            rule-set lan-to-wan {
                from zone lan;
                to zone wan;
                rule snat {
                    match { source-address 0.0.0.0/0; }
                    then { source-nat { interface; } }
                }
            }
        }
    }
}
routing-options {
    static {
        route 0.0.0.0/0 { next-hop 172.16.50.1; }
    }
}
system {
    services {
        dhcp-local-server {
            group lan-pool {
                interface reth1;
                pool lan-range {
                    subnet 10.0.60.0/24;
                    address-range low 10.0.60.100 high 10.0.60.199;
                    router 10.0.60.1;
                    dns-server 8.8.8.8;
                }
            }
        }
    }
}
